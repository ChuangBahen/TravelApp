---

description: "功能實作任務清單模板"
---

# 任務清單：[功能名稱]

**輸入**: 設計文件來自 `/specs/[###-feature-name]/`
**前置條件**: plan.md（必要）、spec.md（使用者故事必要）、research.md、data-model.md、contracts/

**測試**: 以下範例包含測試任務。測試為選填 - 僅在功能規格明確要求時才需包含。

**組織方式**: 任務依使用者故事分組，以便各故事可獨立實作與測試。

## 格式：`[編號] [P?] [故事] 描述`

- **[P]**: 可平行執行（不同檔案、無相依性）
- **[故事]**: 此任務所屬的使用者故事（例如 US1, US2, US3）
- 描述中包含確切的檔案路徑

## 路徑慣例

- **單體專案**: `src/`、`tests/` 位於專案根目錄
- **網頁應用**: `backend/src/`、`frontend/src/`
- **行動應用**: `api/src/`、`ios/src/` 或 `android/src/`
- 以下路徑假設為單體專案 - 請根據 plan.md 結構調整

<!--
  ============================================================================
  重要說明：以下任務僅為範例說明用途。

  /speckit.tasks 指令必須依據以下內容替換為實際任務：
  - spec.md 的使用者故事（及其優先級 P1, P2, P3...）
  - plan.md 的功能需求
  - data-model.md 的實體
  - contracts/ 的端點

  任務必須依使用者故事組織，使各故事可：
  - 獨立實作
  - 獨立測試
  - 作為 MVP 增量交付

  請勿在產生的 tasks.md 中保留這些範例任務。
  ============================================================================
-->

## 第 1 階段：環境設定（共用基礎設施）

**目的**: 專案初始化與基本結構

- [ ] T001 依實作計畫建立專案結構
- [ ] T002 初始化 [語言] 專案並安裝 [框架] 依賴
- [ ] T003 [P] 設定程式碼檢查與格式化工具

---

## 第 2 階段：基礎建設（阻塞性前置條件）

**目的**: 任何使用者故事開始前必須完成的核心基礎設施

**⚠️ 關鍵**: 此階段完成前，不得開始任何使用者故事

基礎建設任務範例（請依專案調整）：

- [ ] T004 設定資料庫結構與遷移框架
- [ ] T005 [P] 實作認證/授權框架
- [ ] T006 [P] 設定 API 路由與中介層結構
- [ ] T007 建立所有故事共用的基礎模型/實體
- [ ] T008 設定錯誤處理與日誌基礎設施
- [ ] T009 設定環境配置管理

**檢查點**: 基礎建設就緒 - 可開始平行實作使用者故事

---

## 第 3 階段：使用者故事 1 - [標題] (優先級: P1) 🎯 MVP

**目標**: [簡述此故事交付的內容]

**獨立測試方式**: [如何驗證此故事獨立運作]

### 使用者故事 1 的測試（選填 - 僅在要求測試時） ⚠️

> **注意：先撰寫這些測試，確保測試失敗後再開始實作**

- [ ] T010 [P] [US1] 在 tests/contract/test_[name].py 建立 [端點] 的契約測試
- [ ] T011 [P] [US1] 在 tests/integration/test_[name].py 建立 [使用者旅程] 的整合測試

### 使用者故事 1 的實作

- [ ] T012 [P] [US1] 在 src/models/[entity1].py 建立 [Entity1] 模型
- [ ] T013 [P] [US1] 在 src/models/[entity2].py 建立 [Entity2] 模型
- [ ] T014 [US1] 在 src/services/[service].py 實作 [Service]（依賴 T012, T013）
- [ ] T015 [US1] 在 src/[location]/[file].py 實作 [端點/功能]
- [ ] T016 [US1] 新增驗證與錯誤處理
- [ ] T017 [US1] 新增使用者故事 1 操作的日誌

**檢查點**: 此時使用者故事 1 應可完整運作並獨立測試

---

## 第 4 階段：使用者故事 2 - [標題] (優先級: P2)

**目標**: [簡述此故事交付的內容]

**獨立測試方式**: [如何驗證此故事獨立運作]

### 使用者故事 2 的測試（選填 - 僅在要求測試時） ⚠️

- [ ] T018 [P] [US2] 在 tests/contract/test_[name].py 建立 [端點] 的契約測試
- [ ] T019 [P] [US2] 在 tests/integration/test_[name].py 建立 [使用者旅程] 的整合測試

### 使用者故事 2 的實作

- [ ] T020 [P] [US2] 在 src/models/[entity].py 建立 [Entity] 模型
- [ ] T021 [US2] 在 src/services/[service].py 實作 [Service]
- [ ] T022 [US2] 在 src/[location]/[file].py 實作 [端點/功能]
- [ ] T023 [US2] 與使用者故事 1 元件整合（如需要）

**檢查點**: 此時使用者故事 1 和 2 應都能獨立運作

---

## 第 5 階段：使用者故事 3 - [標題] (優先級: P3)

**目標**: [簡述此故事交付的內容]

**獨立測試方式**: [如何驗證此故事獨立運作]

### 使用者故事 3 的測試（選填 - 僅在要求測試時） ⚠️

- [ ] T024 [P] [US3] 在 tests/contract/test_[name].py 建立 [端點] 的契約測試
- [ ] T025 [P] [US3] 在 tests/integration/test_[name].py 建立 [使用者旅程] 的整合測試

### 使用者故事 3 的實作

- [ ] T026 [P] [US3] 在 src/models/[entity].py 建立 [Entity] 模型
- [ ] T027 [US3] 在 src/services/[service].py 實作 [Service]
- [ ] T028 [US3] 在 src/[location]/[file].py 實作 [端點/功能]

**檢查點**: 所有使用者故事現在應都能獨立運作

---

[依需要新增更多使用者故事階段，遵循相同模式]

---

## 第 N 階段：收尾與跨領域關注點

**目的**: 影響多個使用者故事的改善

- [ ] TXXX [P] 更新 docs/ 文件
- [ ] TXXX 程式碼清理與重構
- [ ] TXXX 所有故事的效能最佳化
- [ ] TXXX [P] 額外單元測試（如要求）在 tests/unit/
- [ ] TXXX 安全性強化
- [ ] TXXX 執行 quickstart.md 驗證

---

## 相依性與執行順序

### 階段相依性

- **環境設定（第 1 階段）**: 無相依性 - 可立即開始
- **基礎建設（第 2 階段）**: 依賴環境設定完成 - 阻塞所有使用者故事
- **使用者故事（第 3 階段以後）**: 全部依賴基礎建設階段完成
  - 使用者故事可平行進行（若有人力）
  - 或依優先級順序執行（P1 → P2 → P3）
- **收尾（最後階段）**: 依賴所有預期使用者故事完成

### 使用者故事相依性

- **使用者故事 1 (P1)**: 基礎建設（第 2 階段）完成後可開始 - 不依賴其他故事
- **使用者故事 2 (P2)**: 基礎建設（第 2 階段）完成後可開始 - 可能與 US1 整合但應可獨立測試
- **使用者故事 3 (P3)**: 基礎建設（第 2 階段）完成後可開始 - 可能與 US1/US2 整合但應可獨立測試

### 各使用者故事內部順序

- 測試（如包含）必須先撰寫且失敗後才開始實作
- 模型先於服務
- 服務先於端點
- 核心實作先於整合
- 故事完成後才進行下一優先級

### 平行化機會

- 所有標記 [P] 的環境設定任務可平行執行
- 所有標記 [P] 的基礎建設任務可平行執行（第 2 階段內）
- 基礎建設階段完成後，所有使用者故事可平行開始（若團隊有足夠人力）
- 各使用者故事內標記 [P] 的測試可平行執行
- 各故事內標記 [P] 的模型可平行執行
- 不同使用者故事可由不同團隊成員平行處理

---

## 平行化範例：使用者故事 1

```bash
# 同時啟動使用者故事 1 的所有測試（如要求測試）：
任務: "在 tests/contract/test_[name].py 建立 [端點] 的契約測試"
任務: "在 tests/integration/test_[name].py 建立 [使用者旅程] 的整合測試"

# 同時啟動使用者故事 1 的所有模型：
任務: "在 src/models/[entity1].py 建立 [Entity1] 模型"
任務: "在 src/models/[entity2].py 建立 [Entity2] 模型"
```

---

## 實作策略

### MVP 優先（僅使用者故事 1）

1. 完成第 1 階段：環境設定
2. 完成第 2 階段：基礎建設（關鍵 - 阻塞所有故事）
3. 完成第 3 階段：使用者故事 1
4. **停止並驗證**: 獨立測試使用者故事 1
5. 若就緒則部署/展示

### 增量交付

1. 完成環境設定 + 基礎建設 → 基礎就緒
2. 新增使用者故事 1 → 獨立測試 → 部署/展示 (MVP!)
3. 新增使用者故事 2 → 獨立測試 → 部署/展示
4. 新增使用者故事 3 → 獨立測試 → 部署/展示
5. 每個故事增加價值且不破壞先前故事

### 平行團隊策略

多位開發者時：

1. 團隊共同完成環境設定 + 基礎建設
2. 基礎建設完成後：
   - 開發者 A：使用者故事 1
   - 開發者 B：使用者故事 2
   - 開發者 C：使用者故事 3
3. 各故事獨立完成並整合

---

## 備註

- [P] 任務 = 不同檔案、無相依性
- [故事] 標籤將任務對應到特定使用者故事以便追蹤
- 各使用者故事應可獨立完成與測試
- 實作前驗證測試是否失敗
- 每個任務或邏輯群組完成後提交
- 可在任何檢查點停止以獨立驗證故事
- 避免：模糊任務、同檔案衝突、破壞獨立性的跨故事相依
